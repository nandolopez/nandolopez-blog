---
import { getCollection } from "astro:content";
import BlogPage from "../../../components/pages/BlogPage.astro";
import Layout from "../../../layouts/default.astro";

const translation = {
  h1_title: "Last entries",
  h2_subtitle:
    "I'm expert in craft amazing sites with modern javascript technologies",
  btnNext: "See more old entries",
  btnBack: "Back to recent entries",
};

const page = {
  data: await getCollection("projects", (entry) => entry.data.language === "es"),
  url:{
    prev: null,
    next: "/projects"
  }
};

if(page.data.length > 12){
  page.url.next = "/projects/2"
}
page.data = page.data.splice(0,12)
 
---

<Layout
  title="Projects"
  description="Lorem ipsum dolor sit amet"
  publication_date={new Date()}
  language="es"
  index={false}
>
  <BlogPage translation={translation} page={page} />
</Layout>
